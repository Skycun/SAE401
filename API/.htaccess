# Basic configuration
#Allow From All
#Satisfy Any
#Options FollowSymLinks
RewriteEngine On

# Remove trailing slashes
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)/$ /$1 [L,R=301]

# Brand routes
# Get all brands
RewriteRule ^brands/?$ api_requests/Brands.php [L,QSA]

# Get specific brand by ID
RewriteRule ^brands/([0-9]+)/?$ api_requests/Brands.php?action=get&id=$1 [L,QSA]

# Search brands by name
RewriteRule ^brands/search/([^/]+)/?$ api_requests/Brands.php?action=search&q=$1 [L,QSA]

# Handle HTTP methods for brands
RewriteCond %{REQUEST_METHOD} ^(POST|PUT|DELETE)$
RewriteRule ^brands/?$ api_requests/Brands.php [L,QSA]

# Categories routes
# Get all categories
RewriteRule ^categories/?$ api_requests/Categories.php [L,QSA]

# Get specific category by ID
RewriteRule ^categories/([0-9]+)/?$ api_requests/Categories.php?action=get&id=$1 [L,QSA]

# Search categories by name
RewriteRule ^categories/search/([^/]+)/?$ api_requests/Categories.php?action=search&q=$1 [L,QSA]

# Handle HTTP methods for categories
RewriteCond %{REQUEST_METHOD} ^(POST|PUT|DELETE)$
RewriteRule ^categories/?$ api_requests/Categories.php [L,QSA]

# Products routes
# Get all products
RewriteRule ^products/?$ api_requests/Products.php [L,QSA]

# Get specific product by ID
RewriteRule ^products/([0-9]+)/?$ api_requests/Products.php?action=get&id=$1 [L,QSA]

# Search products by name
RewriteRule ^products/search/([^/]+)/?$ api_requests/Products.php?action=search&q=$1 [L,QSA]

# Get products by category
RewriteRule ^products/category/([0-9]+)/?$ api_requests/Products.php?action=category&category_id=$1 [L,QSA]

# Get products by brand
RewriteRule ^products/brand/([0-9]+)/?$ api_requests/Products.php?action=brand&brand_id=$1 [L,QSA]

# Handle HTTP methods for products
RewriteCond %{REQUEST_METHOD} ^(POST|PUT|DELETE)$
RewriteRule ^products/?$ api_requests/Products.php [L,QSA]